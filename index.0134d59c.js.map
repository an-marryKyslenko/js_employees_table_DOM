{"mappings":"A,S,E,C,C,C,E,C,A,M,G,E,E,M,A,G,C,E,E,M,A,E,I,I,E,E,E,A,M,G,E,E,I,C,C,E,C,C,C,E,C,O,C,C,S,E,C,C,C,C,C,E,O,K,E,O,c,C,E,E,C,M,E,W,C,E,a,C,E,S,C,C,G,C,C,E,C,E,C,CCEA,IAAM,EAAO,OAEP,EAAU,CAAC,OAAQ,WAAY,SAAU,MAAO,SAAS,CACzD,EAAU,CACd,QACA,YACA,SACA,WACA,YACA,gBACD,CA8BD,SAAS,EAAY,CAAI,EACvB,IAAM,EAAY,SAAS,aAAa,CAAC,QAEzC,CAAA,EAAU,SAAS,CAAG,GAEjB,IAAA,EAAA,CAAA,EAAA,EAAA,CAAA,EAAA,EAAA,KAAA,E,G,CAAL,IAAA,IAAK,EAAA,EAAc,CAAA,CAAA,OAAA,QAAA,CAAA,GAAd,CAAA,CAAA,EAAA,AAAA,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,IAAA,AAAA,EAAA,EAAA,CAAA,EAAoB,CAApB,IAAM,EAAN,EAAA,KAAA,CACG,EAAM,AAnBhB,SAAmB,CAAI,EACrB,IAAM,EAAM,SAAS,aAAa,CAAC,MAEnC,IAAK,IAAM,KAAO,EAAM,CACtB,IAAM,EAAU,SAAS,aAAa,CAAC,KAEvC,CAAA,EAAQ,SAAS,CAAG,CAAI,CAAC,EAAI,CAC7B,EAAI,WAAW,CAAC,EAClB,CAEA,OAAO,CACT,EAQ0B,GAEtB,EAAU,WAAW,CAAC,EACxB,C,C,M,E,CAJK,EAAA,CAAA,EAAA,EAAA,C,Q,C,G,CAAA,GAAA,AAAA,MAAA,EAAA,MAAA,EAAA,EAAA,MAAA,E,Q,CAAA,GAAA,EAAA,MAAA,C,C,CAKP,CA2FA,IAAM,EAAmB,SAAC,CAAA,CAAO,CAAA,CAAa,CAA9C,EACE,IAAM,EAAQ,SAAS,aAAa,CAAC,SAE/B,EAAe,SAAS,aAAa,CAAC,OAE5C,EAAa,YAAY,CAAC,UAAW,gBACrC,EAAa,SAAS,CAAG,gBAAqB,MAAA,CAAL,GAEzC,EAAa,SAAS,CAAI,2BAEnB,MAAA,CADe,EAAM,kBACT,MAAA,CAAZ,EAAY,YAEnB,EAAM,qBAAqB,CAAC,WAAY,GAExC,WAAW,WACT,EAAa,KAAK,CAAC,OAAO,CAAG,MAC/B,EAlJyB,IAmJ3B,EAkBA,SAAS,gBAAgB,CAAC,mBAAoB,WAC5C,IAAM,EAAiB,SAAS,gBAAgB,CAAC,YAC3C,EAAc,SAAS,aAAa,CAAC,YACrC,EAAY,SAAS,aAAa,CAAC,SAEnC,EAvKE,A,C,A,C,S,C,E,G,M,O,C,G,O,E,E,C,EAuK4B,I,A,S,C,E,G,A,a,O,Q,A,M,C,C,O,Q,C,E,A,M,C,C,a,C,O,M,I,C,E,EAAA,I,A,S,C,C,C,E,G,G,G,A,U,O,E,O,E,E,K,G,I,E,O,S,C,Q,C,I,C,G,K,C,E,I,G,W,G,E,W,E,C,E,E,W,C,I,A,E,A,Q,G,A,Q,E,O,M,I,C,G,G,A,c,G,2C,I,C,G,O,E,E,K,G,EAAA,I,A,W,M,A,U,wI,G,EAvKb,GAAG,CAAC,SAAC,CAA5B,EACE,IAAM,EAAO,EAAK,gBAAgB,CAAC,MAEnC,OAAO,EAAQ,MAAM,CACnB,SAAC,CAAA,CAAM,CAAA,CAAS,CADlB,M,E,EAC6B,O,EAAA,A,S,C,E,I,I,E,E,E,U,M,C,I,C,I,E,A,M,S,C,E,C,S,C,E,C,C,E,E,O,I,C,E,C,Y,O,O,qB,E,C,E,E,M,C,O,qB,C,G,M,C,S,C,E,O,O,wB,C,E,G,U,A,G,E,E,O,C,S,C,E,E,E,E,C,C,E,C,E,C,O,C,EAAA,CAAA,EACtB,G,E,A,O,EACH,EAAA,CAAA,EAAC,EAAU,CAAI,CAAC,EAAM,CAAC,SAAS,G,E,C,E,O,yB,C,O,gB,C,E,O,yB,C,I,A,C,S,C,C,C,E,I,E,O,I,C,G,G,O,qB,C,C,I,E,O,qB,C,G,E,I,C,K,C,E,E,C,O,C,C,E,O,I,O,C,S,C,E,O,c,C,E,E,O,wB,C,E,G,G,CAElC,EAAA,CAAC,EAEL,GAoMA,GArCA,EAAY,gBAAgB,CAAC,QAAS,SAAC,CAAvC,EACE,IAAM,EAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,MAE/B,GAAK,GAIL,IAAM,EAAc,EAAM,SAAS,CAAC,WAAW,EAE3C,CAAC,EAAM,YAAY,CAAC,eAAiB,EAAM,OAAO,CAAC,KAAK,GAAK,EAG/D,EAAM,YAAY,CAAC,aAAc,GAFjC,EAAM,YAAY,CAAC,aAhMb,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","sources":["<anon>","src/scripts/main.js"],"sourcesContent":["\"use strict\";\nfunction _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _array_without_holes(arr) {\n    if (Array.isArray(arr)) return _array_like_to_array(arr);\n}\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _iterable_to_array(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _non_iterable_spread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _object_spread_props(target, source) {\n    source = source != null ? source : {};\n    if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n        ownKeys(Object(source)).forEach(function(key) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n    }\n    return target;\n}\nfunction _to_consumable_array(arr) {\n    return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread();\n}\nfunction _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\nvar DESC = \"desc\";\nvar ASC = \"asc\";\nvar HEADERS = [\n    \"name\",\n    \"position\",\n    \"office\",\n    \"age\",\n    \"salary\"\n];\nvar OFFICES = [\n    \"Tokyo\",\n    \"Singapore\",\n    \"London\",\n    \"New York\",\n    \"Edinburgh\",\n    \"San Francisco\"\n];\nvar DELAY_NOTIFICATION = 2000;\nfunction mapTableRowsToObjects(collection) {\n    return _to_consumable_array(collection).map(function(item) {\n        var data = item.querySelectorAll(\"td\");\n        return HEADERS.reduce(function(prev, current, index) {\n            return _object_spread_props(_object_spread({}, prev), _define_property({}, current, data[index].innerText));\n        }, {});\n    });\n}\nfunction createRow(item) {\n    var row = document.createElement(\"tr\");\n    for(var key in item){\n        var rowData = document.createElement(\"td\");\n        rowData.innerText = item[key];\n        row.appendChild(rowData);\n    }\n    return row;\n}\nfunction rebuildList(data) {\n    var tableBody = document.querySelector(\"tbody\");\n    tableBody.innerHTML = \"\";\n    var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n    try {\n        for(var _iterator = data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n            var item = _step.value;\n            var row = createRow(item);\n            tableBody.appendChild(row);\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally{\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n            }\n        } finally{\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n}\nfunction sortItems(items, targetValue, order) {\n    items.sort(function(a, b) {\n        if (targetValue === \"salary\") {\n            var aSalary = a[targetValue].slice(1).split(\",\").join(\"\");\n            var bSalary = b[targetValue].slice(1).split(\",\").join(\"\");\n            return order === ASC ? aSalary - bSalary : bSalary - aSalary;\n        }\n        if (targetValue === \"age\") return order === ASC ? a[targetValue] - b[targetValue] : b[targetValue] - a[targetValue];\n        return order === ASC ? a[targetValue].localeCompare(b[targetValue]) : b[targetValue].localeCompare(a[targetValue]);\n    });\n}\nfunction createSelectBox(title) {\n    var selectBox = document.createElement(\"select\");\n    selectBox.name = title;\n    selectBox.setAttribute(\"data-qa\", title);\n    selectBox.required = true;\n    OFFICES.forEach(function(office) {\n        var option = document.createElement(\"option\");\n        option.value = office;\n        option.innerText = office;\n        selectBox.appendChild(option);\n    });\n    return selectBox;\n}\nfunction createInput(title) {\n    var input = document.createElement(\"input\");\n    input.name = title;\n    input.required = true;\n    if (title === \"age\" || title === \"salary\") {\n        input.type = \"number\";\n        input.min = 0;\n    } else input.type = \"text\";\n    return input;\n}\nfunction createButton() {\n    var button = document.createElement(\"button\");\n    button.type = \"submit\";\n    button.innerText = \"Save to table\";\n    return button;\n}\nfunction addForm() {\n    var body = document.body;\n    var form = document.createElement(\"form\");\n    form.classList.add(\"new-employee-form\");\n    var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n    try {\n        for(var _iterator = HEADERS[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n            var title = _step.value;\n            var label = document.createElement(\"label\");\n            label.innerText = \"\".concat(title[0].toUpperCase() + title.slice(1), \":\");\n            if (title === \"office\") {\n                label.appendChild(createSelectBox(title));\n                form.appendChild(label);\n                continue;\n            }\n            label.appendChild(createInput(title));\n            form.appendChild(label);\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally{\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n            }\n        } finally{\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n    form.appendChild(createButton());\n    body.appendChild(form);\n}\nvar pushNotification = function(title, description, type) {\n    var table = document.querySelector(\"table\");\n    var notification = document.createElement(\"div\");\n    notification.setAttribute(\"data-qa\", \"notification\");\n    notification.className = \"notification \".concat(type);\n    notification.innerHTML = '\\n    <h2 class=\"title\">'.concat(title, \"</h2>\\n    <p>\").concat(description, \"</p>\\n  \");\n    table.insertAdjacentElement(\"afterend\", notification);\n    setTimeout(function() {\n        notification.style.display = \"none\";\n    }, DELAY_NOTIFICATION);\n};\nfunction isEmployeeDataValid(newName, age) {\n    if (newName.length < 4) {\n        pushNotification(\"Oops!\", \"Name has less than 4 letters\", \"error\");\n        throw new Error(\"Name has less than 4 letters\");\n    }\n    if (+age <= 18 || +age > 90) {\n        pushNotification(\"Oops!\", \"Age is less than 18 or more than 90\", \"error\");\n        throw new Error(\"Age is less than 18 or more than 90\");\n    }\n    return true;\n}\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    var itemCollection = document.querySelectorAll(\"tbody tr\");\n    var tableHeader = document.querySelector(\"thead tr\");\n    var tableBody = document.querySelector(\"tbody\");\n    var items = mapTableRowsToObjects(itemCollection);\n    tableHeader.addEventListener(\"click\", function(e) {\n        var title = e.target.closest(\"th\");\n        if (!title) return;\n        var targetValue = title.innerText.toLowerCase();\n        if (!title.hasAttribute(\"data-order\") || title.dataset.order === DESC) title.setAttribute(\"data-order\", ASC);\n        else title.setAttribute(\"data-order\", DESC);\n        var order = title.dataset.order;\n        sortItems(items, targetValue, order);\n        rebuildList(items);\n    });\n    tableBody.addEventListener(\"click\", function(e) {\n        var activeRow = e.target.closest(\"tr\");\n        if (!activeRow) return;\n        itemCollection.forEach(function(item) {\n            item.classList.remove(\"active\");\n        });\n        activeRow.classList.add(\"active\");\n    });\n    addForm();\n    if (document.querySelector(\".new-employee-form\")) {\n        var form = document.querySelector(\".new-employee-form\");\n        form.addEventListener(\"submit\", function(e) {\n            e.preventDefault();\n            var data = new FormData(form);\n            var newName = data.get(\"name\");\n            var age = data.get(\"age\");\n            // tranform salary into format '10,000,000,000'\n            var salary = parseInt(data.get(\"salary\")).toLocaleString(\"en-US\");\n            if (isEmployeeDataValid(newName, age)) {\n                var newEmployee = {\n                    name: newName,\n                    position: data.get(\"position\"),\n                    office: data.get(\"office\"),\n                    age: age,\n                    salary: \"$\" + salary\n                };\n                items.push(newEmployee);\n                rebuildList(items);\n                pushNotification(\"Success!\", \"New employee has added to list.\", \"success\");\n            } else throw new Error(\"You can'n create new employee\");\n        });\n    }\n});\n\n//# sourceMappingURL=index.0134d59c.js.map\n","'use strict';\n\nconst DESC = 'desc';\nconst ASC = 'asc';\nconst HEADERS = ['name', 'position', 'office', 'age', 'salary'];\nconst OFFICES = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n];\nconst DELAY_NOTIFICATION = 2000;\n\nfunction mapTableRowsToObjects(collection) {\n  return [...collection].map((item) => {\n    const data = item.querySelectorAll('td');\n\n    return HEADERS.reduce(\n      (prev, current, index) => ({\n        ...prev,\n        [current]: data[index].innerText,\n      }),\n      {},\n    );\n  });\n}\n\nfunction createRow(item) {\n  const row = document.createElement('tr');\n\n  for (const key in item) {\n    const rowData = document.createElement('td');\n\n    rowData.innerText = item[key];\n    row.appendChild(rowData);\n  }\n\n  return row;\n}\n\nfunction rebuildList(data) {\n  const tableBody = document.querySelector('tbody');\n\n  tableBody.innerHTML = '';\n\n  for (const item of data) {\n    const row = createRow(item);\n\n    tableBody.appendChild(row);\n  }\n}\n\nfunction sortItems(items, targetValue, order) {\n  items.sort((a, b) => {\n    if (targetValue === 'salary') {\n      const aSalary = a[targetValue].slice(1).split(',').join('');\n      const bSalary = b[targetValue].slice(1).split(',').join('');\n\n      return order === ASC ? aSalary - bSalary : bSalary - aSalary;\n    }\n\n    if (targetValue === 'age') {\n      return order === ASC\n        ? a[targetValue] - b[targetValue]\n        : b[targetValue] - a[targetValue];\n    }\n\n    return order === ASC\n      ? a[targetValue].localeCompare(b[targetValue])\n      : b[targetValue].localeCompare(a[targetValue]);\n  });\n}\n\nfunction createSelectBox(title) {\n  const selectBox = document.createElement('select');\n\n  selectBox.name = title;\n  selectBox.setAttribute('data-qa', title);\n  selectBox.required = true;\n\n  OFFICES.forEach((office) => {\n    const option = document.createElement('option');\n\n    option.value = office;\n    option.innerText = office;\n    selectBox.appendChild(option);\n  });\n\n  return selectBox;\n}\n\nfunction createInput(title) {\n  const input = document.createElement('input');\n\n  input.name = title;\n  input.required = true;\n\n  if (title === 'age' || title === 'salary') {\n    input.type = 'number';\n    input.min = 0;\n  } else {\n    input.type = 'text';\n  }\n\n  return input;\n}\n\nfunction createButton() {\n  const button = document.createElement('button');\n\n  button.type = 'submit';\n  button.innerText = 'Save to table';\n\n  return button;\n}\n\nfunction addForm() {\n  const body = document.body;\n  const form = document.createElement('form');\n\n  form.classList.add('new-employee-form');\n\n  for (const title of HEADERS) {\n    const label = document.createElement('label');\n\n    label.innerText = `${title[0].toUpperCase() + title.slice(1)}:`;\n\n    if (title === 'office') {\n      label.appendChild(createSelectBox(title));\n      form.appendChild(label);\n      continue;\n    }\n\n    label.appendChild(createInput(title));\n    form.appendChild(label);\n  }\n\n  form.appendChild(createButton());\n  body.appendChild(form);\n}\n\nconst pushNotification = (title, description, type) => {\n  const table = document.querySelector('table');\n\n  const notification = document.createElement('div');\n\n  notification.setAttribute('data-qa', 'notification');\n  notification.className = `notification ${type}`;\n\n  notification.innerHTML = `\n    <h2 class=\"title\">${title}</h2>\n    <p>${description}</p>\n  `;\n  table.insertAdjacentElement('afterend', notification);\n\n  setTimeout(() => {\n    notification.style.display = 'none';\n  }, DELAY_NOTIFICATION);\n};\n\nfunction isEmployeeDataValid(newName, age) {\n  if (newName.length < 4) {\n    pushNotification('Oops!', 'Name has less than 4 letters', 'error');\n\n    throw new Error('Name has less than 4 letters');\n  }\n\n  if (+age <= 18 || +age > 90) {\n    pushNotification('Oops!', 'Age is less than 18 or more than 90', 'error');\n\n    throw new Error('Age is less than 18 or more than 90');\n  }\n\n  return true;\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const itemCollection = document.querySelectorAll('tbody tr');\n  const tableHeader = document.querySelector('thead tr');\n  const tableBody = document.querySelector('tbody');\n\n  const items = mapTableRowsToObjects(itemCollection);\n\n  tableHeader.addEventListener('click', (e) => {\n    const title = e.target.closest('th');\n\n    if (!title) {\n      return;\n    }\n\n    const targetValue = title.innerText.toLowerCase();\n\n    if (!title.hasAttribute('data-order') || title.dataset.order === DESC) {\n      title.setAttribute('data-order', ASC);\n    } else {\n      title.setAttribute('data-order', DESC);\n    }\n\n    const order = title.dataset.order;\n\n    sortItems(items, targetValue, order);\n    rebuildList(items);\n  });\n\n  tableBody.addEventListener('click', (e) => {\n    const activeRow = e.target.closest('tr');\n\n    if (!activeRow) {\n      return;\n    }\n\n    itemCollection.forEach((item) => {\n      item.classList.remove('active');\n    });\n\n    activeRow.classList.add('active');\n  });\n\n  addForm();\n\n  if (document.querySelector('.new-employee-form')) {\n    const form = document.querySelector('.new-employee-form');\n\n    form.addEventListener('submit', (e) => {\n      e.preventDefault();\n\n      const data = new FormData(form);\n      const newName = data.get('name');\n      const age = data.get('age');\n\n      // tranform salary into format '10,000,000,000'\n      const salary = parseInt(data.get('salary')).toLocaleString('en-US');\n\n      if (isEmployeeDataValid(newName, age)) {\n        const newEmployee = {\n          name: newName,\n          position: data.get('position'),\n          office: data.get('office'),\n          age,\n          salary: '$' + salary,\n        };\n\n        items.push(newEmployee);\n        rebuildList(items);\n\n        pushNotification(\n          'Success!',\n          'New employee has added to list.',\n          'success',\n        );\n      } else {\n        throw new Error(\"You can'n create new employee\");\n      }\n    });\n  }\n});\n"],"names":["_array_like_to_array","arr","len","length","i","arr2","Array","_define_property","obj","key","value","Object","defineProperty","enumerable","configurable","writable","DESC","HEADERS","OFFICES","rebuildList","data","tableBody","document","querySelector","innerHTML","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","item","row","createRow","createElement","rowData","innerText","appendChild","err","return","pushNotification","title","description","type","table","notification","setAttribute","className","concat","insertAdjacentElement","setTimeout","style","display","addEventListener","itemCollection","querySelectorAll","tableHeader","items","_to_consumable_array","_array_without_holes","isArray","_iterable_to_array","iter","from","_unsupported_iterable_to_array","o","minLen","n","prototype","toString","call","slice","constructor","name","test","_non_iterable_spread","TypeError","map","reduce","prev","current","index","target","source","_object_spread","arguments","ownKeys","keys","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","forEach","getOwnPropertyDescriptors","defineProperties","object","enumerableOnly","symbols","push","apply","e","closest","targetValue","toLowerCase","hasAttribute","dataset","order","sortItems","sort","a","b","aSalary","split","join","bSalary","localeCompare","activeRow","classList","remove","add","addForm","button","body","form","label","toUpperCase","createSelectBox","selectBox","required","office","option","createInput","input","min","preventDefault","FormData","newName","get","age","salary","parseInt","toLocaleString","isEmployeeDataValid","Error","newEmployee","position"],"version":3,"file":"index.0134d59c.js.map"}